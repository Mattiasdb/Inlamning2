# Mattias Karlsson YH24
Denna beskrivning är en uppdaterad version av designen för en liten bokhandel. Syftet med databasen är att hantera kunder, böcker och beställningar på ett enkelt och effektivt sätt. Systemet ska underlätta registrering, uppdatering och hämtning av information om beställningar och lagerstatus.
Databasen är baserad på ett ER-diagram och innehåller fyra huvudentiteter: Kunder, Böcker, Beställningar och Orderrader. Jag har uppdaterat mitt ER-diagram och lagt till Kundlogg, som är en svag entitet och beroende av entiteten Kunder. Jag döpte databasen till Bokhandel_2, och entiteterna blev tabeller i databasen med tillhörande primär- och främmande nycklar.

Jag har valt att använda BokID som primär nyckel istället för ISBN, eftersom e-böcker saknar ISBN-nummer, och BokID är enklare att hantera. Relationerna i databasen är att en kund kan göra flera beställningar, men en beställning kan bara tillhöra en kund. Därför har Beställningar en främmande nyckel till Kunder.
Orderrader fungerar som en kopplingstabell mellan Böcker och Beställningar, eftersom en beställning kan innehålla flera böcker, och en bok kan finnas i flera beställningar. Orderrader har en främmande nyckel från Beställningar och en främmande nyckel från Böcker. Den primära nyckeln är OrderradID. Jag lade även till attributen Antal och Delsumma i Orderrader. Antal visar hur många exemplar av en bok som beställts, och Delsumma beräknar totalpriset för dessa. I tabellen Kundlogg är den primära nyckeln LoggID, och den har en främmande nyckel från Kunder.

Om databasen hanterade 100 000 kunder istället för 10, hade jag använt indexering mer. Redan nu finns ett index för kolumnen Epost i min kod. Man kan bland annat sätta ett index på KundID i Beställningar för att snabba upp sökningar på en kunds beställningar. Exempelvis kan man även lägga till index på Ordernummer i Beställningar och BokID i Orderrader,
Strukturen kan effektiviseras genom att optimera datatyperna. Exempelvis kan VARCHAR(100) användas för Epost istället för VARCHAR(255) för att minska onödig lagring. Vid databassökningar kan man också optimera frågor genom att undvika “SELECT *” och endast hämta nödvändiga kolumner.
